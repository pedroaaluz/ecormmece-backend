{"ast":null,"code":"import \"source-map-support/register\";\nimport AWS from \"aws-sdk\";\nconst dynamoDb = new AWS.DynamoDB.DocumentClient();\nexport const main = async event => {\n  const params = {\n    TableName: process.env.productsTabledynamodb\n  };\n\n  try {\n    const list = await dynamoDb.scan(params).promise();\n    console.log(list); // return {\n    //   statusCode: 200,\n    //   body: JSON.stringify({\n    //     message: 'Success in list product',\n    //     product: list.Items,\n    //   }),\n    // };\n\n    return {\n      statusCode: 200,\n      body: JSON.stringify({\n        message: 'Success in list product',\n        product: list.Items\n      }),\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Credentials\": true\n      }\n    };\n  } catch (error) {\n    console.log(error);\n    return {\n      statusCode: 500,\n      body: JSON.stringify({\n        error: error.message\n      })\n    };\n  }\n};","map":{"version":3,"sources":["/home/pedroaluz/Documentos/ecormmece/minions-shop/src/functions/listProduct.js"],"names":["AWS","dynamoDb","DynamoDB","DocumentClient","main","event","params","TableName","process","env","productsTabledynamodb","list","scan","promise","console","log","statusCode","body","JSON","stringify","message","product","Items","headers","error"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,SAAhB;AAEA,MAAMC,QAAQ,GAAG,IAAID,GAAG,CAACE,QAAJ,CAAaC,cAAjB,EAAjB;AAEA,OAAO,MAAMC,IAAI,GAAG,MAAOC,KAAP,IAAiB;AAEnC,QAAMC,MAAM,GAAG;AACbC,IAAAA,SAAS,EAAEC,OAAO,CAACC,GAAR,CAAYC;AADV,GAAf;;AAKA,MAAI;AACF,UAAMC,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAT,CAAcN,MAAd,EAAsBO,OAAtB,EAAnB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EAFE,CAGF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAAO;AACLK,MAAAA,UAAU,EAAE,GADP;AAELC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,OAAO,EAAE,yBADU;AAEnBC,QAAAA,OAAO,EAAEV,IAAI,CAACW;AAFK,OAAf,CAFD;AAMLC,MAAAA,OAAO,EAAE;AACP,uCAA+B,GADxB;AAEP,4CAAoC;AAF7B;AANJ,KAAP;AAWD,GAtBD,CAsBE,OAAOC,KAAP,EAAc;AACdV,IAAAA,OAAO,CAACC,GAAR,CAAYS,KAAZ;AACA,WAAO;AACLR,MAAAA,UAAU,EAAE,GADP;AAELC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACK,QAAAA,KAAK,EAAEA,KAAK,CAACJ;AAAd,OAAf;AAFD,KAAP;AAID;AACF,CApCM","sourcesContent":["import AWS from \"aws-sdk\";\n\nconst dynamoDb = new AWS.DynamoDB.DocumentClient();\n\nexport const main = async (event) => {\n\n  const params = {\n    TableName: process.env.productsTabledynamodb,\n\n  };\n\n  try {\n    const list = await dynamoDb.scan(params).promise();\n    console.log(list);\n    // return {\n    //   statusCode: 200,\n    //   body: JSON.stringify({\n    //     message: 'Success in list product',\n    //     product: list.Items,\n    //   }),\n    // };\n\n    return {\n      statusCode: 200,\n      body: JSON.stringify({\n        message: 'Success in list product',\n        product: list.Items,\n      }),\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Credentials\": true,\n      },\n    };\n  } catch (error) {\n    console.log(error);\n    return {\n      statusCode: 500,\n      body: JSON.stringify({error: error.message}),\n    };\n  }\n};\n"]},"metadata":{},"sourceType":"module"}